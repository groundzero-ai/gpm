{
  "$schema": "./schemas/platforms-v1.json",

  // Global flows that apply to all platforms
  "global": {
    "description": "Universal flows applied across all platforms",
    "flows": [
      {
        "from": "AGENTS.md",
        "to": "AGENTS.md",
        "when": { "exists": "AGENTS.md" }
      }
    ]
  },

  // Platform definitions for all supported AI coding platforms
  // Each platform defines its flows for transforming universal package format to platform-specific format

  "antigravity": {
    "name": "Google Antigravity",
    "rootDir": ".agent",
    "description": "Google's AI coding agent platform",
    "flows": [
      {
        "from": "rules/*.md",
        "to": ".agent/rules/*.md"
      },
      {
        "from": "commands/*.md",
        "to": ".agent/workflows/*.md"
      }
    ]
  },

  "augment": {
    "name": "Augment Code",
    "rootDir": ".augment",
    "description": "Augment AI code assistant",
    "flows": [
      {
        "from": "rules/*.md",
        "to": ".augment/rules/*.md"
      },
      {
        "from": "commands/*.md",
        "to": ".augment/commands/*.md"
      }
    ]
  },

  "claude": {
    "name": "Claude Code",
    "rootDir": ".claude",
    "rootFile": "CLAUDE.md",
    "aliases": ["claudecode"],
    "description": "Anthropic Claude coding assistant with agents and skills",
    "flows": [
      {
        "from": "AGENTS.md",
        "to": "CLAUDE.md"
      },
      {
        "from": "rules/*.md",
        "to": ".claude/rules/*.md"
      },
      {
        "from": "commands/*.md",
        "to": ".claude/commands/*.md"
      },
      {
        "from": "agents/*.md",
        "to": ".claude/agents/*.md"
      },
      {
        "from": "skills/*",
        "to": ".claude/skills/*"
      }
    ]
  },

  "codex": {
    "name": "Codex CLI",
    "rootDir": ".codex",
    "rootFile": "AGENTS.md",
    "aliases": ["codexcli"],
    "description": "Codex command-line AI assistant",
    "flows": [
      {
        "from": "commands/*.md",
        "to": ".codex/prompts/*.md"
      }
    ]
  },

  "cursor": {
    "name": "Cursor",
    "rootDir": ".cursor",
    "rootFile": "AGENTS.md",
    "description": "Cursor AI code editor with rules, commands, and MCP support",
    "flows": [
      {
        "from": "rules/*.md",
        "to": ".cursor/rules/*.mdc"
      },
      {
        "from": "commands/*.md",
        "to": ".cursor/commands/*.md"
      },
      {
        "from": "settings.json",
        "to": ".cursor/settings.json",
        "merge": "deep"
      },
      {
        "from": "mcp.jsonc",
        "to": ".cursor/mcp.json",
        "pipe": ["filter-comments"],
        "merge": "deep"
      }
    ]
  },

  "factory": {
    "name": "Factory AI",
    "rootDir": ".factory",
    "rootFile": "AGENTS.md",
    "description": "Factory AI with commands and droids (agents)",
    "flows": [
      {
        "from": "commands/*.md",
        "to": ".factory/commands/*.md"
      },
      {
        "from": "agents/*.md",
        "to": ".factory/droids/*.md"
      }
    ]
  },

  "kilo": {
    "name": "Kilo Code",
    "rootDir": ".kilocode",
    "rootFile": "AGENTS.md",
    "aliases": ["kilocode"],
    "description": "Kilo coding assistant with rules and workflows",
    "flows": [
      {
        "from": "rules/*.md",
        "to": ".kilocode/rules/*.md"
      },
      {
        "from": "commands/*.md",
        "to": ".kilocode/workflows/*.md"
      }
    ]
  },

  "kiro": {
    "name": "Kiro",
    "rootDir": ".kiro",
    "description": "Kiro AI assistant with steering files",
    "flows": [
      {
        "from": "rules/*.md",
        "to": ".kiro/steering/*.md"
      }
    ]
  },

  "opencode": {
    "name": "OpenCode",
    "rootDir": ".opencode",
    "rootFile": "AGENTS.md",
    "description": "OpenCode AI assistant with commands and agents",
    "flows": [
      {
        "from": "commands/*.md",
        "to": ".opencode/command/*.md"
      },
      {
        "from": "agents/*.md",
        "to": ".opencode/agent/*.md"
      },
      {
        "from": "mcp.jsonc",
        "to": ".opencode/mcp.json",
        "pipe": ["filter-comments"],
        "merge": "deep"
      }
    ]
  },

  "qwen": {
    "name": "Qwen Code",
    "rootDir": ".qwen",
    "rootFile": "QWEN.md",
    "aliases": ["qwencode"],
    "description": "Qwen AI coding assistant with agent support",
    "flows": [
      {
        "from": "AGENTS.md",
        "to": "QWEN.md"
      },
      {
        "from": "agents/*.md",
        "to": ".qwen/agents/*.md"
      }
    ]
  },

  "roo": {
    "name": "Roo Code",
    "rootDir": ".roo",
    "rootFile": "AGENTS.md",
    "description": "Roo AI assistant with command support",
    "flows": [
      {
        "from": "commands/*.md",
        "to": ".roo/commands/*.md"
      }
    ]
  },

  "warp": {
    "name": "Warp",
    "rootDir": ".warp",
    "rootFile": "WARP.md",
    "description": "Warp terminal with AI features",
    "flows": [
      {
        "from": "AGENTS.md",
        "to": "WARP.md"
      }
    ]
  },

  "windsurf": {
    "name": "Windsurf",
    "rootDir": ".windsurf",
    "description": "Windsurf AI assistant with rules",
    "flows": [
      {
        "from": "rules/*.md",
        "to": ".windsurf/rules/*.md"
      }
    ]
  }
}
